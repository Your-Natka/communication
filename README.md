# communication

-–§—Ä–æ–Ω—Ç: React + TypeScript -–ë–µ–∫: Python FastAPI -–ë–∞–∑–∞ –¥–∞–Ω–Ω–∏—Ö: Postgres/MySQL Main Keys: –°—Ç–∏–ª—ñ –ø–æ–≤–∏–Ω–Ω—ñ –±—É—Ç–∏ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é tailwind –î–æ–¥–∞—Ç–æ–∫ –º–∞—î –±—É—Ç–∏ –¥–æ–∫–µ—Ä–∏–∑–∏—Ä–æ–≤–∞–Ω–∏–π –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –≤–µ–±-–¥–æ–¥–∞—Ç–æ–∫ –º–µ—Å–µ–Ω–¥–∂–µ—Ä. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –ø–æ–≤–∏–Ω–µ–Ω –º–∞—Ç–∏ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –∞–≤—Ç–æ—Ä–∏–∑—É–≤–∞—Ç–∏—Å—è/—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—è —Ç–∞ —Å–ø—ñ–ª–∫—É–≤–∞—Ç–∏—Å—è –∑ —ñ–Ω—à–∏–º–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏ —É —Ñ–æ—Ä–º–∞—Ç—ñ –æ–¥–∏–Ω –Ω–∞ –æ–¥–∏–Ω (–≥—Ä—É–ø–æ–≤—ñ —á–∞—Ç–∏ —Ä–æ–±–∏—Ç–∏ –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ). –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –ø–æ–≤–∏–Ω–µ–Ω –º–∞—Ç–∏ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –ø—Ä–∏–∫—Ä—ñ–ø–∏—Ç–∏ –∫—ñ–ª—å–∫–∞ —Ñ–∞–π–ª—ñ–≤ –¥–æ —Å–≤–æ–≥–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è, –º–∞—Ç–∏ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å —Ä–µ–¥–∞–≥—É–≤–∞—Ç–∏ —Ç–∞ –≤–∏–¥–∞–ª—è—Ç–∏ —Å–≤–æ—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ –ø–æ–≤–∏–Ω–Ω–∞ –±—É—Ç–∏ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–∞ –≤–∏–∫–ª—é—á–Ω–æ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –≤–±—É–¥–æ–≤–∞–Ω–∏—Ö –º–æ–∂–ª–∏–≤–æ—Å—Ç–µ–π FastAPI (JWT —Ç–æ–∫–µ–Ω–∏, OAuth2 —Å—Ö–µ–º–∏, middleware –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó).

–§—Ä–æ–Ω—Ç–µ–Ω–¥

React + TypeScript + Tailwind ‚Äî SPA –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞.

–¢—É—Ç –±—É–¥–µ –ª–æ–≥—ñ–Ω/—Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—è, —á–∞—Ç-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤, –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å.

–§—Ä–æ–Ω—Ç –ø–æ–≤–∏–Ω–µ–Ω "–∑–Ω–∞—Ç–∏" —Ç—ñ–ª—å–∫–∏ –ø—Ä–æ REST/WebSocket API –±–µ–∫–µ–Ω–¥—É.

–ë–µ–∫–µ–Ω–¥

FastAPI + Postgres/MySQL

–†–µ–∞–ª—ñ–∑—É—î –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—é (JWT, OAuth2), REST API –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ —ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å.

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î WebSockets –¥–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ —á–∞—Å—É –≤ —á–∞—Ç—ñ.

–û–±—Ä–æ–±–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤ (FastAPI UploadFile).

CRUD –¥–ª—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å (—Å—Ç–≤–æ—Ä–µ–Ω–Ω—è, —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è, –≤–∏–¥–∞–ª–µ–Ω–Ω—è).

Middleware –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ JWT.

Docker

–ö–æ–∂–Ω–∞ —á–∞—Å—Ç–∏–Ω–∞ (—Ñ—Ä–æ–Ω—Ç —ñ –±–µ–∫) –º–∞—î —Å–≤—ñ–π Dockerfile.

–ú–æ–∂–Ω–∞ —Å–∫–ª–∞—Å—Ç–∏ –≤—Å–µ –≤ docker-compose.yml:

frontend (React, –∑—ñ–±—Ä–∞–Ω–∏–π —ñ –≤—ñ–¥–¥–∞—î—Ç—å—Å—è nginx –∞–±–æ Vite preview).

backend (FastAPI + Uvicorn).

db (Postgres –∞–±–æ MySQL).

–û–∫–µ–π üöÄ
–ù–∏–∂—á–µ ‚Äî –±–∞–∑–æ–≤—ñ –∫—Ä–æ–∫–∏ –¥–ª—è —Å—Ç–∞—Ä—Ç—É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é –∑ –Ω–∞–∑–≤–æ—é "Communication"
cd ~/Projects

mkdir Communication
cd Communication

git init

mkdir frontend backend

git add .
git commit -m " "

git remote add origin git@github.com:YOUR_USERNAME/Connection.git

git branch -M main
git push -u origin main

üì¶ 1. –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—É (React + TypeScript + Tailwind —á–µ—Ä–µ–∑ Vite)
cd frontend

npm create vite@latest . -- --template react-ts

npm install

# Tailwind + PostCSS
npm install -D tailwindcss postcss autoprefixer
npx tailwindcss init -p


# –£ —Ñ–∞–π–ª–∞—Ö src/index.css
 @tailwind base;
 @tailwind components;
 @tailwind utilities;

# –¢–µ—Å—Ç–æ–≤–∏–π –∑–∞–ø—É—Å–∫
npm run dev

‚öôÔ∏è 2. –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –±–µ–∫–µ–Ω–¥—É (FastAPI + Docker-ready)

cd ../backend

python3 -m venv venv
source venv/bin/activate

# –í—Å—Ç–∞–Ω–æ–≤–ª—é—î–º–æ FastAPI —Ç–∞ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
pip install fastapi uvicorn[standard] sqlalchemy asyncpg alembic python-jose[cryptography] passlib[bcrypt] python-multipart

# –ó–∞—Ñ—ñ–∫—Å—É—î–º–æ —É requirements.txt
pip freeze > requirements.txt

# –°—Ç–≤–æ—Ä—é—î–º–æ —Å—Ç—Ä—É–∫—Ç—É—Ä—É
mkdir app
touch app/main.py

# app/main.py (–º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π –±–µ–∫–µ–Ω–¥)
echo 'from fastapi import FastAPI

app = FastAPI()

@app.get("/")
def read_root():
    return {"msg": "Hello from Connection backend"}' > app/main.py

# –ó–∞–ø—É—Å–∫ –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏
uvicorn app.main:app --reload --port 8000

üê≥ 3. Docker-—Å–∫–µ–ª–µ—Ç
Backend backend/Dockerfile

Frontend frontend/Dockerfile

–ö–æ—Ä–µ–Ω–µ–≤–∏–π docker-compose.yml


üîπ –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É
1. Backend (FastAPI)

üìÇ backend/

main.py ‚Äî —Ç–æ—á–∫–∞ –≤—Ö–æ–¥—É FastAPI

auth/ ‚Äî –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è

models.py ‚Äî SQLAlchemy –º–æ–¥–µ–ª—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤

schemas.py ‚Äî Pydantic —Å—Ö–µ–º–∏

routes.py ‚Äî –µ–Ω–¥–ø–æ—ñ–Ω—Ç–∏ –¥–ª—è login/register

jwt.py ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è/–ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ JWT —Ç–æ–∫–µ–Ω—ñ–≤

chat/ ‚Äî —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª –º–µ—Å–µ–Ω–¥–∂–µ—Ä–∞

models.py ‚Äî —Ç–∞–±–ª–∏—Ü—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å, –≤–∫–ª–∞–¥–µ–Ω—å

schemas.py ‚Äî Pydantic —Å—Ö–µ–º–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å

routes.py ‚Äî API –¥–ª—è CRUD (—Å—Ç–≤–æ—Ä–µ–Ω–Ω—è, —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è, –≤–∏–¥–∞–ª–µ–Ω–Ω—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å)

websockets.py ‚Äî –¥–ª—è live-—á–∞—Ç—É (FastAPI WebSocket)

database.py ‚Äî –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ PostgreSQL (–∞–±–æ SQLite –Ω–∞ —Å—Ç–∞—Ä—Ç—ñ)

config.py ‚Äî –∑–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ (JWT_SECRET, DB_URL)

üîë –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è:

JWT (–¥–≤–∞ —Ç–æ–∫–µ–Ω–∏: access_token —ñ refresh_token ‚Äì –º–æ–∂–Ω–∞ –∑—Ä–æ–±–∏—Ç–∏ —Ç—ñ–ª—å–∫–∏ access, —è–∫—â–æ –ø—Ä–æ—Å—Ç—ñ—à–µ).

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ OAuth2PasswordBearer –¥–ª—è –∑–∞—Ö–∏—Å—Ç—É –ø—Ä–∏–≤–∞—Ç–Ω–∏—Ö —Ä–æ—É—Ç—ñ–≤.


üîπ –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É
1. Backend (FastAPI)

üìÇ backend/

main.py ‚Äî —Ç–æ—á–∫–∞ –≤—Ö–æ–¥—É FastAPI

auth/ ‚Äî –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è

models.py ‚Äî SQLAlchemy –º–æ–¥–µ–ª—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤

schemas.py ‚Äî Pydantic —Å—Ö–µ–º–∏

routes.py ‚Äî –µ–Ω–¥–ø–æ—ñ–Ω—Ç–∏ –¥–ª—è login/register

jwt.py ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è/–ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ JWT —Ç–æ–∫–µ–Ω—ñ–≤

chat/ ‚Äî —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª –º–µ—Å–µ–Ω–¥–∂–µ—Ä–∞

models.py ‚Äî —Ç–∞–±–ª–∏—Ü—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å, –≤–∫–ª–∞–¥–µ–Ω—å

schemas.py ‚Äî Pydantic —Å—Ö–µ–º–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å

routes.py ‚Äî API –¥–ª—è CRUD (—Å—Ç–≤–æ—Ä–µ–Ω–Ω—è, —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è, –≤–∏–¥–∞–ª–µ–Ω–Ω—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å)

websockets.py ‚Äî –¥–ª—è live-—á–∞—Ç—É (FastAPI WebSocket)

database.py ‚Äî –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ PostgreSQL (–∞–±–æ SQLite –Ω–∞ —Å—Ç–∞—Ä—Ç—ñ)

config.py ‚Äî –∑–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ (JWT_SECRET, DB_URL)

üîë –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è:

JWT (–¥–≤–∞ —Ç–æ–∫–µ–Ω–∏: access_token —ñ refresh_token ‚Äì –º–æ–∂–Ω–∞ –∑—Ä–æ–±–∏—Ç–∏ —Ç—ñ–ª—å–∫–∏ access, —è–∫—â–æ –ø—Ä–æ—Å—Ç—ñ—à–µ).

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ OAuth2PasswordBearer –¥–ª—è –∑–∞—Ö–∏—Å—Ç—É –ø—Ä–∏–≤–∞—Ç–Ω–∏—Ö —Ä–æ—É—Ç—ñ–≤.

üí¨ –ú–æ–¥–µ–ª—å –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è:

class Message(Base):
    __tablename__ = "messages"

    id = Column(Integer, primary_key=True, index=True)
    sender_id = Column(Integer, ForeignKey("users.id"))
    receiver_id = Column(Integer, ForeignKey("users.id"))
    content = Column(Text, nullable=True)
    attachments = relationship("Attachment", back_populates="message")
    created_at = Column(DateTime, default=datetime.utcnow)
    updated_at = Column(DateTime, default=datetime.utcnow)


üìé –ú–æ–¥–µ–ª—å –≤–∫–ª–∞–¥–µ–Ω—å (—Ñ–∞–π–ª—ñ–≤):

class Attachment(Base):
    __tablename__ = "attachments"

    id = Column(Integer, primary_key=True, index=True)
    message_id = Column(Integer, ForeignKey("messages.id"))
    file_url = Column(String)
    file_type = Column(String)  # image, pdf, doc, etc.
    message = relationship("Message", back_populates="attachments")

2. Frontend (React + Tailwind + Vite)

üìÇ frontend/src/

App.tsx ‚Äî —Ä–æ—É—Ç–∏–Ω–≥

pages/

Login.tsx

Register.tsx

Chat.tsx (–æ—Å–Ω–æ–≤–Ω–∏–π –µ–∫—Ä–∞–Ω)

components/

Message.tsx ‚Äî –æ–¥–Ω–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è

MessageInput.tsx ‚Äî –ø–æ–ª–µ –≤–≤–æ–¥—É –∑ –ø—Ä–∏–∫—Ä—ñ–ø–ª–µ–Ω–Ω—è–º —Ñ–∞–π–ª—ñ–≤

Sidebar.tsx ‚Äî —Å–ø–∏—Å–æ–∫ –∫–æ–Ω—Ç–∞–∫—Ç—ñ–≤

services/api.ts ‚Äî axios –∫–ª—ñ—î–Ω—Ç (–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è, —á–∞—Ç–∏)

context/AuthContext.tsx ‚Äî –≥–ª–æ–±–∞–ª—å–Ω–∏–π —Å—Ç–∞–Ω –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞

3. –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª

‚úÖ –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è / –ª–æ–≥—ñ–Ω (JWT)
‚úÖ –°–ø–∏—Å–æ–∫ –∫–æ–Ω—Ç–∞–∫—Ç—ñ–≤ (–≤–∏–±–∏—Ä–∞—î—à –ª—é–¥–∏–Ω—É ‚Üí –≤—ñ–¥–∫—Ä–∏–≤–∞—î—Ç—å—Å—è —á–∞—Ç)
‚úÖ –í—ñ–¥–ø—Ä–∞–≤–∫–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å + –≤–∫–ª–∞–¥–µ–Ω–Ω—è (–∫—ñ–ª—å–∫–∞ —Ñ–∞–π–ª—ñ–≤)
‚úÖ –†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è —Ç–∞ –≤–∏–¥–∞–ª–µ–Ω–Ω—è —Å–≤–æ—ó—Ö –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å
‚úÖ Live-—á–∞—Ç —á–µ—Ä–µ–∑ WebSocket
‚úÖ Tailwind –¥–ª—è UI


–Ø–∫—â–æ —Ñ–∞–π–ª —ñ—Å–Ω—É—î, –∞–ª–µ –≤—Å–µ –æ–¥–Ω–æ –ø–æ–º–∏–ª–∫–∞:

–ü–µ—Ä–µ–∫–æ–Ω–∞–π—Å—è, —â–æ –≤ app/ —î __init__.py (–Ω–∞–≤—ñ—Ç—å –ø—É—Å—Ç–∏–π —Ñ–∞–π–ª).
–¶–µ —Ä–æ–±–∏—Ç—å –ø–∞–ø–∫—É –ø–∞–∫–µ—Ç–æ–º Python. –¢–µ —Å–∞–º–µ –≤ routers/.

touch app/__init__.py
touch app/routers/__init__.py



–ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏:

uvicorn app.main:app --reload --port 8000

mydatabase=# CREATE TABLE users (
    id SERIAL PRIMARY KEY,
    username VARCHAR(50) UNIQUE NOT NULL,
    email VARCHAR(100) UNIQUE NOT NULL,
    hashed_password VARCHAR(255) NOT NULL,
    display_name VARCHAR(100)
);
CREATE TABLE
mydatabase=# \dt
              List of relations
 Schema |   Name   | Type  |      Owner      
--------+----------+-------+-----------------
 public | contacts | table | postgres
 public | items    | table | postgres
 public | users    | table | natalabodnarcuk
(3 rows)

mydatabase=# ALTER USER natalabodnarcuk WITH PASSWORD '–Ω–æ–≤–∏–π_–ø–∞—Ä–æ–ª—å';
ALTER ROLE

natalabodnarcuk ‚Äî –≤–∞—à –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á

–Ω–æ–≤–∏–π_–ø–∞—Ä–æ–ª—å ‚Äî –ø–∞—Ä–æ–ª—å, —è–∫–∏–π –≤–∏ —â–æ–π–Ω–æ –∑–∞–¥–∞–ª–∏

mydatabase ‚Äî –±–∞–∑–∞ –¥–∞–Ω–∏—Ö, –¥–æ —è–∫–æ—ó –ø—ñ–¥–∫–ª—é—á–∞—î–º–æ—Å—è

{
  "username": "natala",
  "email": "natala@example.com",
  "password": "123456"
}

{
  "username": "testuser1",
  "email": "test1@example.com",
  "password": "Password123!"
}

1Ô∏è‚É£ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è —Ç–∞ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—è

Register (/api/auth/register)
‚úÖ –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –ø—Ä–∞—Ü—é—î, –¥—É–±–ª—ñ–∫–∞—Ç–∏ username/email –ø–æ–≤–µ—Ä—Ç–∞—é—Ç—å 400.

Login (/api/auth/token)
‚úÖ –õ–æ–≥—ñ–Ω –ø—Ä–∞—Ü—é—î, —Ç–æ–∫–µ–Ω –≥–µ–Ω–µ—Ä—É—î—Ç—å—Å—è.
‚ö†Ô∏è –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏: —Ç–æ–∫–µ–Ω –¥—ñ–π—Å–Ω–∏–π —Ç–∞ –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –∑–∞–ø–∏—Ç—ñ–≤.

JWT Middleware

–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ endpoint /users/me –∞–±–æ –ø–æ–¥—ñ–±–Ω–∏–π, —è–∫–∏–π –ø–æ–≤–µ—Ä—Ç–∞—î –¥–∞–Ω—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –∑ —Ç–æ–∫–µ–Ω–æ–º.

–Ø–∫—â–æ —î –ø–æ–º–∏–ª–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó ‚Äî —Ç—Ä–µ–±–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ Depends –∑ JWT.

2Ô∏è‚É£ –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö

–ü–æ–∫–∏ —â–æ –º–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ Postgres (–ª–æ–≥ –ø–æ–∫–∞–∑—É—î Postgres –∫–æ–º–∞–Ω–¥–∏).

Users table –ø—Ä–∞—Ü—é—î.

–ù–∞—Å—Ç—É–ø–Ω–µ: Messages table ‚Äî –ø–µ—Ä–µ–≤—ñ—Ä–∏–º–æ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–ª—è:

—Ç–µ–∫—Å—Ç—É –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è

ID –≤—ñ–¥–ø—Ä–∞–≤–Ω–∏–∫–∞ —Ç–∞ –æ—Ç—Ä–∏–º—É–≤–∞—á–∞

—Ñ–∞–π–ª—ñ–≤ (–º–æ–∂–ª–∏–≤–æ —è–∫ JSON –∞–±–æ –æ–∫—Ä–µ–º–∏–π table)

–¥–∞—Ç–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è, —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è, –≤–∏–¥–∞–ª–µ–Ω–Ω—è

3Ô∏è‚É£ –ú–µ—Å—Å–µ–Ω–¥–∂–µ—Ä (–æ—Å–Ω–æ–≤–Ω—ñ —Ñ—ñ—á—ñ)

–û–¥–∏–Ω-–Ω–∞-–æ–¥–∏–Ω —á–∞—Ç ‚Äî —Ç–∞–±–ª–∏—Ü—è messages + user_from + user_to.

CRUD –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å:

Create ‚Üí –¥–æ–¥–∞—î—Ç—å—Å—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑/–±–µ–∑ —Ñ–∞–π–ª—ñ–≤ ‚úÖ

Read ‚Üí –º–æ–∂–Ω–∞ –æ—Ç—Ä–∏–º–∞—Ç–∏ —Å–ø–∏—Å–æ–∫ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å –º—ñ–∂ –¥–≤–æ–º–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏

Update ‚Üí —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è —Å–≤–æ–≥–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è

Delete ‚Üí –≤–∏–¥–∞–ª–µ–Ω–Ω—è —Å–≤–æ–≥–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è

–ü—Ä–∏–∫—Ä—ñ–ø–ª–µ–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤:

–ü–æ–∫–∏ —Ç—Ä–µ–±–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —á–∏ —î endpoint /files/upload –∞–±–æ –æ–±—Ä–æ–±–∫–∞ multipart/form-data.

4Ô∏è‚É£ –§—Ä–æ–Ω—Ç–µ–Ω–¥

React + TypeScript ‚úÖ

Tailwind –¥–ª—è —Å—Ç–∏–ª—ñ–≤ ‚úÖ

–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ –±–µ–∫–µ–Ω–¥—É —á–µ—Ä–µ–∑ Axios/fetch —Ç–∞ JWT —Ç–æ–∫–µ–Ω

5Ô∏è‚É£ Docker

–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ Dockerfile —Ç–∞ docker-compose.yml –¥–ª—è:

FastAPI backend

React frontend

Postgres/MySQL

–ú–æ–∂–Ω–∞ –∑–∞–ø—É—Å–∫–∞—Ç–∏ –≤—Å–µ –ª–æ–∫–∞–ª—å–Ω–æ –∫–æ–º–∞–Ω–¥–æ—é docker-compose up --build

1Ô∏è‚É£ –¢–∞–±–ª–∏—Ü—ñ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

–ü–µ—Ä–µ–≤—ñ—Ä–∏–º–æ, —á–∏ —î —Ç–∞–±–ª–∏—Ü—ñ –¥–ª—è:

users ‚Äî –≤–∂–µ —î, –ø—Ä–∞—Ü—é—î ‚úÖ

messages ‚Äî –ø–æ–≤–∏–Ω–Ω–∞ –º—ñ—Å—Ç–∏—Ç–∏:

id (PK)

text (—Ç–µ–∫—Å—Ç –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è)

user_from_id (–≤—ñ–¥–ø—Ä–∞–≤–Ω–∏–∫)

user_to_id (–æ—Ç—Ä–∏–º—É–≤–∞—á)

created_at

updated_at

deleted (–ª–æ–≥—ñ—á–Ω–µ –≤–∏–¥–∞–ª–µ–Ω–Ω—è)

files (JSON –∞–±–æ –æ–∫—Ä–µ–º–∏–π table)

files (—è–∫—â–æ —Ä–æ–±–∏–º–æ –æ–∫—Ä–µ–º–æ):

id

message_id

filename

url/path

created_at

2Ô∏è‚É£ Endpoint-—ñ –¥–ª—è –º–µ—Å–µ–Ω–¥–∂–µ—Ä–∞

–ü–µ—Ä–µ–≤—ñ—Ä–∏–º–æ, —á–∏ —î:

–ú–µ—Ç–æ–¥	Endpoint	–û–ø–∏—Å
GET	/messages/{user_id}	–ü–æ–≤–µ—Ä—Ç–∞—î —Å–ø–∏—Å–æ–∫ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å –º—ñ–∂ –ø–æ—Ç–æ—á–Ω–∏–º –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–µ–º —ñ user_id
POST	/messages	–°—Ç–≤–æ—Ä—é—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑ —Ç–µ–∫—Å—Ç–æ–º —ñ —Ñ–∞–π–ª–∞–º–∏
PATCH	/messages/{msg_id}	–†–µ–¥–∞–≥—É—î —Å–≤–æ—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
DELETE	/messages/{msg_id}	–í–∏–¥–∞–ª—è—î —Å–≤–æ—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
POST	/files/upload	–ó–∞–≤–∞–Ω—Ç–∞–∂—É—î —Ñ–∞–π–ª–∏ –¥–ª—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
3Ô∏è‚É£ JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è

–ö–æ–∂–µ–Ω endpoint –º–∞—î –º–∞—Ç–∏ Depends(get_current_user)

–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞: —è–∫—â–æ —Ç–æ–∫–µ–Ω –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π –∞–±–æ –Ω–µ –ø–µ—Ä–µ–¥–∞–Ω–∏–π ‚Üí 401